{"version":3,"sources":["../../src/router/getOrder.js"],"names":["router","Router","get","req","res","parse","url","query","page","pageSum","filter","console","log","arr","Number","item","orderState","json","data","slice","len","length","code"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,eAAX,EAA4B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,yBACR,cAAIC,KAAJ,CAAUF,IAAIG,GAAd,EAAmB,IAAnB,EAAyBC,KADjB;AAAA,MACjCC,IADiC,oBACjCA,IADiC;AAAA,MAC3BC,OAD2B,oBAC3BA,OAD2B;AAAA,MAClBC,MADkB,oBAClBA,MADkB;;AAExCC,UAAQC,GAAR,CAAYH,OAAZ,EAAqBD,IAArB,EAA2BE,MAA3B;AACA,MAAIG,MAAM,EAAV;AACA,MAAIC,OAAOJ,MAAP,CAAJ,EAAoB;AAClBG,UAAM,gBAAMH,MAAN,CAAa,gBAAQ;AACzB,aAAOK,KAAKC,UAAL,KAAoBN,SAAS,CAApC;AACD,KAFK,CAAN;AAGD,GAJD,MAIO;AACLG;AACD;AACDT,MAAIa,IAAJ,CAAS;AACPC,UAAML,IAAIM,KAAJ,CAAU,CAACX,OAAO,CAAR,IAAWC,OAArB,EAA8BD,OAAKC,OAAnC,CADC;AAEPW,SAAKP,IAAIQ,MAFF;AAGPC,UAAM;AAHC,GAAT;AAKD,CAhBD;;kBAkBetB,M","file":"getOrder.js","sourcesContent":["import express from 'express';\nimport order from '../../mock/order'\nimport url from 'url'\n\nconst router = express.Router();\n\nrouter.get('/api/getOrder', (req, res) => {\n  const {page, pageSum, filter} = url.parse(req.url, true).query;\n  console.log(pageSum, page, filter);\n  let arr = [];\n  if (Number(filter)) {\n    arr = order.filter(item => {\n      return item.orderState === filter * 1;\n    });\n  } else {\n    arr = order\n  }\n  res.json({\n    data: arr.slice((page - 1)*pageSum, page*pageSum),\n    len: arr.length,\n    code: 1\n  })\n});\n\nexport default router"]}