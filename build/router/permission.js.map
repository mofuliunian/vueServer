{"version":3,"sources":["../../src/router/permission.js"],"names":["router","Router","get","req","res","token","headers","ids","data","code","datas","JSON","parse","permission","json","meg"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,iBAAX,EAA8B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,QACjCC,KADiC,GACxBF,IAAIG,OADoB,CACjCD,KADiC;;AAExC,QAAME,MAAM,wBAAYF,KAAZ,CAAZ;AACA,8BAAeE,GAAf,EAAoB,UAAUC,IAAV,EAAgB;AAChC,YAAGA,KAAKC,IAAR,EAAa;AACT,gBAAMC,QAAQC,KAAKC,KAAL,CAAWJ,KAAKK,UAAhB,CAAd;AACAT,gBAAIU,IAAJ,CAAS;AACLL,sBAAM,CADD;AAELM,qBAAK,QAFA;AAGLF,4BAAYH;AAHP,aAAT;AAKH,SAPD,MAOO;AACHN,gBAAIU,IAAJ,CAAS;AACLL,sBAAM,CADD;AAELM,qBAAK;AAFA,aAAT;AAIH;AACJ,KAdD;AAeH,CAlBD;;kBAoBef,M","file":"permission.js","sourcesContent":["import express from 'express';\nimport {getPermission} from \"../model/login\";\nimport {getDecipher} from '../config/tools'\n\nconst router = express.Router();\n\nrouter.get('/api/permission', (req, res) => {\n    const {token} = req.headers;\n    const ids = getDecipher(token);\n    getPermission( ids, function (data) {\n        if(data.code){\n            const datas = JSON.parse(data.permission);\n            res.json({\n                code: 1,\n                meg: '权限获取成功',\n                permission: datas\n            })\n        } else {\n            res.json({\n                code: 0,\n                meg: '权限获取失败'\n            })\n        }\n    })\n});\n\nexport default router"]}